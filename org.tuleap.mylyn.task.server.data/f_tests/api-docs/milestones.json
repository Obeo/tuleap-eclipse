{
  "apiVersion": "3.14",
  "swaggerVersion": "1.2",
  "basePath": "http://localhost:3001/api",
  "resourcePath": "/milestones",
  "apis" : [
    {
      "path":"/milestones",
      "description":"Milestone creation",
      "operations":[
        {
          "method":"OPTIONS",
          "nickname":"optionsOfMilestones",
          "type":"void",
          "parameters":[],
          "summary":"Description of the resource",
          "notes": "",
          "responseMessages":[ ]
        },
        {
          "method":"POST",
          "nickname":"createMilestone",
          "type":"Milestone",
          "parameters":[],
          "summary":"Create a milestone",
          "notes": "Returns the id of the created milestone.",
          "responseMessages":[ ]
        }
      ]
    },
    {
      "path":"/milestones/{milestoneId}",
      "description":"Operations about milestones",
      "operations":[
        {
          "method":"OPTIONS",
          "nickname":"optionsOfMilestones",
          "type":"void",
          "parameters":[],
          "summary":"Description of the resource",
          "notes": "",
          "responseMessages":[ ]
        },
        {
          "method":"GET",
          "nickname":"getMilestoneById",
          "type":"Milestone",
          "parameters":[],
          "summary":"Find milestone by its unique ID",
          "notes": "Only Milestones which you have permission to see will be returned",
          "responseMessages":[ ]
        },
        {
          "method":"PUT",
          "nickname":"updateMilestone",
          "type":"Milestone",
          "parameters":[],
          "summary":"Update an existing milestone",
          "notes": "",
          "responseMessages":[ ]
        }
      ]
    },
    {
      "path":"/milestones/{milestoneId}/backlog_items",
      "description":"Operations about backlog items in a milestone",
      "operations":[
        {
          "method":"OPTIONS",
          "nickname":"optionsOfMilestonesBacklogItems",
          "type":"void",
          "parameters":[],
          "summary":"Description of the resource",
          "notes":"",
          "responseMessages":[ ]
        },
        {
          "method":"GET",
          "nickname":"getBacklogItemsByMilestoneId",
          "type": "BacklogItem",
          "parameters":[],
          "summary":"Get the (unplanned) backlog items of an existing milestone",
          "notes":"",
          "responseMessages":[ ]
        },
        {
          "method":"POST",
          "nickname":"createBacklogItem",
          "type":"BacklogItem",
          "parameters":[],
          "summary":"Create a backlog item in an existing milestone",
          "notes":"",
          "responseMessages":[ ]
        }
      ]
    }
  ],
  "models" : {
    "Milestone": {
      "id":"Milestone",
      "required": ["id", "planning_id", "label", "start_date", "duration", "capacity"],
      "properties":{
        "id": {"type":"integer","format":"int32"},
        "planning_id": {"type":"integer","format":"int32"},
        "label": {"type":"string"},
        "start_date": {"type":"string","format":"date"},
        "duration": {"type":"number","format":"float"},
        "capacity": {"type":"number","format":"float"},
        "status": {"type":"string"},
        "submilestones": {
          "type":"array",
          "items": {
            "$ref":"Milestone"
          },
          "description":"The sub-milestones of the milestone, not recursively: only direct children will be returned"
        }
      }
    },
    "BacklogItem": {
      "id":"BacklogItem",
      "properties":{
        "id": {"type":"integer","format":"int32"},
        "milestone_id": {"type":"integer","format":"int32","description":"The ID of the milestone containing this backlog item, is it necessary?"},
        "label": {"type":"string"},
        "effort": {"type":"number","format":"float","description":"Estimated effort, there's probably a better name for it"},
        "status": {"type":"string","description":"Current status of the item."}
      }
    }
  }
}